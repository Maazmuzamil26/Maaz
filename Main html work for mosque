<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Umar Masjid Madrassah</title>
<meta name="description" content="Umar Masjid Madrassah offering Islamic education from beginner to advanced levels. Register today.">
<meta name="theme-color" content="#046d4a">

<style>
/* ===== Reset & Base ===== */
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:system-ui,-apple-system,sans-serif;background:#f0f5f1;color:#222;transition:.3s;line-height:1.6}
body.dark{background:#0f1f1a;color:#e0e0e0}
h1,h2,h3,p{margin-bottom:.8rem}
a{text-decoration:none;color:inherit}

/* ===== Header ===== */
header{position:relative;text-align:center;padding:80px 20px 50px;background:linear-gradient(135deg,#046d4a,#025937);color:white;overflow:hidden}
body.dark header{background:linear-gradient(135deg,#022f1f,#011f14)}
header img{width:80px;position:absolute;top:20px;left:20px;animation:float 4s ease-in-out infinite,glow 3s ease-in-out infinite}
@keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}
@keyframes glow{0%{filter:drop-shadow(0 0 4px rgba(255,255,255,.4))}50%{filter:drop-shadow(0 0 12px rgba(255,255,255,.8))}100%{filter:drop-shadow(0 0 4px rgba(255,255,255,.4))}}
header h1{font-size:3rem;margin-bottom:10px}
.dua{margin-top:15px;font-size:1.2rem;opacity:.95}

/* ===== Navigation ===== */
.nav-bar ul{list-style:none;display:flex;justify-content:center;gap:20px;flex-wrap:wrap;padding:0}
.nav-bar li{display:inline-block}
.nav-bar button{background:none;border:none;color:white;font-weight:bold;font-size:16px;cursor:pointer;padding:6px 12px;border-radius:8px;transition:background .3s}
.nav-bar button:hover{background:rgba(255,255,255,.2)}
body.dark .nav-bar button{color:#a0f0c0}

/* ===== Controls ===== */
.controls{margin-top:15px;text-align:center}
.controls button{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.4);color:white;padding:8px 16px;border-radius:20px;cursor:pointer;margin:0 5px}
body.dark .controls button{color:#a0f0c0}

/* ===== Sections ===== */
main{max-width:1000px;margin:40px auto;padding:0 20px}
section{display:none;animation:fadeUp .6s ease forwards}
section.active{display:block}
@keyframes fadeUp{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}
section h2{font-size:2rem;color:#046d4a;margin-bottom:25px;border-bottom:2px solid #d1e4db;padding-bottom:8px}
body.dark section h2{color:#7fd1b2}

/* ===== Cards ===== */
.cards{display:flex;flex-wrap:wrap;gap:20px}
.card{background:white;flex:1 1 300px;padding:25px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,.08);transition:transform .3s,box-shadow .3s}
body.dark .card{background:#1b2f28}
.card:hover{transform:translateY(-7px);box-shadow:0 12px 25px rgba(0,0,0,.12)}

/* ===== Buttons ===== */
.primary{background:linear-gradient(135deg,#046d4a,#028a5e);color:white;padding:14px 35px;border-radius:40px;border:none;cursor:pointer;margin:5px}
.secondary{background:#ddd;padding:14px 35px;border-radius:40px;border:none;cursor:pointer;margin:5px}

/* ===== Footer ===== */
footer{height:60px;margin-top:60px;background:#e0e5e2;text-align:center;line-height:60px}
body.dark footer{background:#16241f}

/* ===== Modal ===== */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);justify-content:center;align-items:center;z-index:1000}
.modal-content{background:#f9f9f9;padding:30px;border-radius:10px;width:90%;max-width:400px;position:relative}
body.dark .modal-content{background:#1b2f28;color:white}
label{display:block;margin-top:10px;font-size:14px}
input,select,button{width:100%;padding:12px;margin-top:5px;border-radius:5px;border:1px solid #ccc}
.close-btn{position:absolute;top:10px;right:15px;font-size:22px;cursor:pointer}

/* ===== Toast ===== */
.toast{position:fixed;bottom:20px;right:20px;background:#046d4a;color:white;padding:12px 20px;border-radius:8px;display:none}

/* ===== Prayer Table ===== */
.prayer-table{width:100%;border-collapse:collapse;font-size:12px;margin-top:15px}
.prayer-table th, .prayer-table td{border:1px solid #ccc;padding:8px;text-align:center}
.prayer-table th{background:#046d4a;color:white}
body.dark .prayer-table th{background:#028a5e;color:#e0e0e0}
body.dark .prayer-table td{color:#e0e0e0}

/* ===== Responsive ===== */
@media(max-width:600px){header h1{font-size:2.2rem}header img{position:static;margin-bottom:15px}.cards{flex-direction:column}.nav-bar ul{flex-direction:column;gap:10px}}
</style>
</head>
<body lang="en">

<header>
<img src="ukim-logo.png" alt="Umar Masjid Madrassah Logo">
<h1 data-en="Umar Masjid Madrassah" data-ar="ŸÖÿØÿ±ÿ≥ÿ© ŸÖÿ≥ÿ¨ÿØ ÿπŸÖÿ±" data-ur="ÿπŸÖÿ± ŸÖÿ≥ÿ¨ÿØ ŸÖÿØÿ±ÿ≥€Å">Umar Masjid Madrassah</h1>
<p class="dua" data-en="Rabbi zidni ‚ÄòilmƒÅ ‚Äî My Lord, increase me in knowledge."
   data-ar="ÿ±Ÿéÿ®ŸêŸë ÿ≤ŸêÿØŸíŸÜŸêŸä ÿπŸêŸÑŸíŸÖŸãÿß ‚Äî ÿ±ÿ®Ÿä ÿ≤ÿØŸÜŸä ÿπŸÑŸÖŸãÿß"
   data-ur="ÿ±Ÿéÿ®ŸêŸë ÿ≤ŸêÿØŸíŸÜŸêŸä ÿπŸéŸÑŸíŸÖŸãÿß ‚Äî ÿß€í ŸÖ€åÿ±€í ÿ±ÿ®! ŸÖÿ¨⁄æ€í ÿπŸÑŸÖ ŸÖ€å⁄∫ ÿßÿ∂ÿßŸÅ€Å ÿπÿ∑ÿß ŸÅÿ±ŸÖÿß">
   Rabbi zidni ‚ÄòilmƒÅ ‚Äî My Lord, increase me in knowledge.
</p>

<nav class="nav-bar">
<ul>
<li><button onclick="showSection('home')" data-en="Home" data-ar="ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©" data-ur="€ÅŸàŸÖ">Home</button></li>
<li><button onclick="showSection('offerings')" data-en="What We Offer" data-ar="ŸÖÿß ŸÜŸÇÿØŸÖŸá" data-ur="€ÅŸÖ ⁄©€åÿß Ÿæ€åÿ¥ ⁄©ÿ±ÿ™€í €Å€å⁄∫">What We Offer</button></li>
<li><button onclick="showSection('announcements')" data-en="Announcements" data-ar="ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™" data-ur="ÿßÿπŸÑÿßŸÜÿßÿ™">Announcements</button></li>
<li><button onclick="showSection('admin')" data-en="Admin" data-ar="ÿßŸÑÿ•ÿØÿßÿ±ÿ©" data-ur="ÿß€å⁄àŸÖŸÜ">Admin</button></li>
<li><button onclick="openModal()" data-en="Register" data-ar="ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ" data-ur="ÿ±ÿ¨ÿ≥Ÿπÿ± ⁄©ÿ±€å⁄∫">Register</button></li>
</ul>
</nav>

<div class="controls">
<button onclick="toggleDarkMode()">üåô</button>
<button onclick="toggleLanguage()">üåç</button>
</div>
</header>

<main id="editableContent">
  <!-- Home Section -->
  <section id="home" class="active" style="display:block">
    <h2 data-en="Our Madrassah" data-ar="ŸÖÿØÿ±ÿ≥ÿ™ŸÜÿß" data-ur="€ÅŸÖÿßÿ±ÿß ŸÖÿØÿ±ÿ≥€Å">Our Madrassah</h2>
    <div class="cards">
      <div class="card">
        <h3 data-en="Why choose us?" data-ar="ŸÑŸÖÿßÿ∞ÿß ÿ™ÿÆÿ™ÿßÿ±ŸÜÿßÿü" data-ur="€ÅŸÖ€å⁄∫ ⁄©€åŸà⁄∫ ŸÖŸÜÿ™ÿÆÿ® ⁄©ÿ±€å⁄∫ÿü">Why choose us?</h3>
        <p data-en="We hire the best teachers to ensure quality learning for our students."
           data-ar="ŸÜÿÆÿ™ÿßÿ± ÿ£ŸÅÿ∂ŸÑ ÿßŸÑŸÖÿπŸÑŸÖŸäŸÜ ŸÑÿ∂ŸÖÿßŸÜ ÿ™ÿπŸÑŸäŸÖ ÿπÿßŸÑŸä ÿßŸÑÿ¨ŸàÿØÿ© ŸÑŸÑÿ∑ŸÑÿßÿ®."
           data-ur="€ÅŸÖ ÿ∑ŸÑÿ®€Å ⁄©€í ŸÑ€å€í ŸÖÿπ€åÿßÿ±€å ÿ™ÿπŸÑ€åŸÖ ⁄©Ÿà €åŸÇ€åŸÜ€å ÿ®ŸÜÿßŸÜ€í ⁄©€í ŸÑ€å€í ÿ®€Åÿ™ÿ±€åŸÜ ÿßÿ≥ÿßÿ™ÿ∞€Å ⁄©ÿß ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ÿ±ÿ™€í €Å€å⁄∫€î">
        We hire the best teachers to ensure quality learning for our students.
        </p>
      </div>
      <div class="card">
        <h3 data-en="Our Curriculum" data-ar="ŸÖŸÜŸáÿ¨ŸÜÿß" data-ur="€ÅŸÖÿßÿ±ÿß ŸÜÿµÿßÿ®">Our Curriculum</h3>
        <p data-en="From level 0 (basic Arabic) to level 5 (advanced studies)."
           data-ar="ŸÖŸÜ ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ 0 ÿ•ŸÑŸâ ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ 5."
           data-ur="ÿ≥ÿ∑ÿ≠ 0 (ÿ®ŸÜ€åÿßÿØ€å ÿπÿ±ÿ®€å) ÿ≥€í ÿ≥ÿ∑ÿ≠ 5 (ÿßÿπŸÑ€åŸ∞ ÿ™ÿπŸÑ€åŸÖ) ÿ™⁄©€î">
        From level 0 (basic Arabic) to level 5 (advanced studies).
        </p>
      </div>
      <div class="card">
        <h3 data-en="Always engaging" data-ar="ÿØÿßÿ¶ŸÖŸãÿß ŸÖŸÖÿ™ÿπ" data-ur="€ÅŸÖ€åÿ¥€Å ÿØŸÑ⁄Üÿ≥Ÿæ">Always engaging</h3>
        <p data-en="Events with fun activities, Islamic videos, and tasty food."
           data-ar="ŸÅÿπÿßŸÑŸäÿßÿ™ ŸÖŸÖÿ™ÿπÿ© ŸàŸÖŸÇÿßÿ∑ÿπ ÿ•ÿ≥ŸÑÿßŸÖŸäÿ© Ÿàÿ∑ÿπÿßŸÖ ŸÑÿ∞Ÿäÿ∞."
           data-ur="ÿØŸÑ⁄Üÿ≥Ÿæ ÿ≥ÿ±⁄Øÿ±ŸÖ€åÿß⁄∫ÿå ÿßÿ≥ŸÑÿßŸÖ€å Ÿà€å⁄à€åŸàÿ≤ ÿßŸàÿ± ŸÑÿ∞€åÿ∞ ⁄©⁄æÿßŸÜÿß€î">
        Events with fun activities, Islamic videos, and tasty food.
        </p>
      </div>
      <div class="card">
        <h3 data-en="Opportunities" data-ar="ÿßŸÑŸÅÿ±ÿµ" data-ur="ŸÖŸàÿßŸÇÿπ">Opportunities</h3>
        <p data-en="Students can lead prayers, recite Qur‚Äôan, and give speeches."
           data-ar="ÿ•ŸÖÿßŸÖÿ© ÿßŸÑÿµŸÑÿßÿ© Ÿàÿ™ŸÑÿßŸàÿ© ÿßŸÑŸÇÿ±ÿ¢ŸÜ."
           data-ur="ÿ∑ŸÑÿ®€Å ŸÜŸÖÿßÿ≤ Ÿæ⁄ë⁄æÿß ÿ≥⁄©ÿ™€í €Å€å⁄∫ÿå ŸÇÿ±ÿ¢ŸÜ ⁄©€å ÿ™ŸÑÿßŸàÿ™ ÿßŸàÿ± ÿ™ŸÇÿßÿ±€åÿ± ⁄©ÿ± ÿ≥⁄©ÿ™€í €Å€å⁄∫€î">
        Students can lead prayers, recite Qur‚Äôan, and give speeches.
        </p>
      </div>
    </div>
    <div style="text-align:center;margin-top:40px">
      <button class="primary" onclick="openModal()" data-en="Register Now" data-ar="ÿ≥ÿ¨ŸÑ ÿßŸÑÿ¢ŸÜ" data-ur="ÿßÿ®⁄æ€å ÿ±ÿ¨ÿ≥Ÿπÿ± ⁄©ÿ±€å⁄∫">Register Now</button>
      <button class="secondary" onclick="payNow()" data-en="Pay & Register" data-ar="ÿßÿØŸÅÿπ Ÿàÿ≥ÿ¨ŸÑ" data-ur="ÿßÿØÿß ⁄©ÿ±€å⁄∫ ÿßŸàÿ± ÿ±ÿ¨ÿ≥Ÿπÿ± ⁄©ÿ±€å⁄∫">Pay & Register</button>
    </div>
  </section>

  <!-- Offerings Section -->
  <section id="offerings">
    <h2 data-en="Our Offerings" data-ar="ÿÆÿØŸÖÿßÿ™ŸÜÿß" data-ur="€ÅŸÖÿßÿ±€å Ÿæ€åÿ¥⁄©ÿ¥€å⁄∫">Our Offerings</h2>
    <div class="cards">
      <div class="card"><h3 data-en="Qur'an Classes" data-ar="ÿØÿ±Ÿàÿ≥ ÿßŸÑŸÇÿ±ÿ¢ŸÜ" data-ur="ŸÇÿ±ÿ¢ŸÜ ⁄©€å ⁄©ŸÑÿßÿ≥€å⁄∫">Qur'an Classes</h3>
        <p data-en="Learn to read, recite, and memorize the Qur‚Äôan."
           data-ar="ÿ™ÿπŸÑŸÖ ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÇÿ±ÿ¢ŸÜ Ÿàÿ≠ŸÅÿ∏Ÿá"
           data-ur="ŸÇÿ±ÿ¢ŸÜ Ÿæ⁄ë⁄æŸÜÿßÿå ÿ™ŸÑÿßŸàÿ™ ÿßŸàÿ± ÿ≠ŸÅÿ∏ ÿ≥€å⁄©⁄æ€å⁄∫€î"></p>
      </div>
      <div class="card"><h3 data-en="Arabic Language" data-ar="ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ©" data-ur="ÿπÿ±ÿ®€å ÿ≤ÿ®ÿßŸÜ">Arabic Language</h3>
        <p data-en="From beginner to advanced levels."
           data-ar="ŸÖŸÜ ÿßŸÑŸÖÿ®ÿ™ÿØÿ¶ŸäŸÜ ÿ•ŸÑŸâ ÿßŸÑŸÖÿ™ŸÇÿØŸÖŸäŸÜ"
           data-ur="ÿßÿ®ÿ™ÿØÿßÿ¶€å ÿ≥€í ÿßÿπŸÑ€å ÿ≥ÿ∑ÿ≠ ÿ™⁄©€î"></p>
      </div>
      <div class="card"><h3 data-en="Islamic Studies" data-ar="ÿßŸÑÿØÿ±ÿßÿ≥ÿßÿ™ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿ©" data-ur="ÿßÿ≥ŸÑÿßŸÖ€å ŸÖÿ∑ÿßŸÑÿπÿßÿ™">Islamic Studies</h3>
        <p data-en="History, Fiqh, Hadith, and more."
           data-ar="ÿßŸÑÿ™ÿßÿ±ŸäÿÆ ŸàÿßŸÑŸÅŸÇŸá ŸàÿßŸÑÿ≠ÿØŸäÿ´ ŸàÿßŸÑŸÖÿ≤ŸäÿØ"
           data-ur="ÿ™ÿßÿ±€åÿÆÿå ŸÅŸÇ€Åÿå ÿ≠ÿØ€åÿ´ ÿßŸàÿ± ŸÖÿ≤€åÿØ€î"></p>
      </div>
      <div class="card"><h3 data-en="Special Events" data-ar="ŸÅÿπÿßŸÑŸäÿßÿ™ ÿÆÿßÿµÿ©" data-ur="ÿÆÿµŸàÿµ€å ÿ™ŸÇÿ±€åÿ®ÿßÿ™">Special Events</h3>
        <p data-en="Fun activities, community events, and competitions."
           data-ar="ÿ£ŸÜÿ¥ÿ∑ÿ© ŸÖŸÖÿ™ÿπÿ© ŸàŸÅÿπÿßŸÑŸäÿßÿ™ ŸÖÿ¨ÿ™ŸÖÿπŸäÿ© ŸàŸÖÿ≥ÿßÿ®ŸÇÿßÿ™"
           data-ur="ÿØŸÑ⁄Üÿ≥Ÿæ ÿ≥ÿ±⁄Øÿ±ŸÖ€åÿß⁄∫ÿå ⁄©ŸÖ€åŸàŸÜŸπ€å ÿß€åŸàŸÜŸπÿ≥ ÿßŸàÿ± ŸÖŸÇÿßÿ®ŸÑ€í€î"></p>
      </div>
    </div>
  </section>



  <!-- Announcements Section -->
  <section id="announcements">
    <h2 data-en="Announcements" data-ar="ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™" data-ur="ÿßÿπŸÑÿßŸÜÿßÿ™">Announcements</h2>
    <ul id="announcementList">
      <li>Welcome back to Madrassah! Classes start next Monday.</li>
      <li>Special Ramadan sessions every Friday evening.</li>
      <li>Annual Quiz Competition on 20th February.</li>
    </ul>
  </section>

  <!-- Admin Section -->
  <section id="admin">
    <h2>Admin Control Center</h2>
    <div id="loginBox">
      <input type="password" id="adminPin" placeholder="Enter Admin PIN">
      <button class="primary" onclick="adminLogin()">Enter</button>
    </div>
    <div id="adminContent" style="display:none">
      <button onclick="enableEditMode()">Enable Edit Mode</button>
      <button onclick="savePage()">üíæ Save Changes</button>
      <button class="secondary" onclick="adminLogout()">Logout</button>
    </div>
  </section>
</main>
<!-- Registration Modal -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">√ó</span>
    <h2 data-en="Register" data-ar="ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ" data-ur="ÿ±ÿ¨ÿ≥Ÿπÿ± ⁄©ÿ±€å⁄∫">Register</h2>
    
    <form id="registerForm">
      <label data-en="Full Name" data-ar="ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ" data-ur="ŸæŸàÿ±ÿß ŸÜÿßŸÖ">Full Name</label>
      <input type="text" name="name" placeholder="John Doe" required>

      <label data-en="Age" data-ar="ÿßŸÑÿπŸÖÿ±" data-ur="ÿπŸÖÿ±">Age</label>
      <input type="number" name="age" placeholder="10" min="3" max="80" required>

      <label data-en="Level" data-ar="ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ" data-ur="ÿ≥ÿ∑ÿ≠">Level</label>
      <select name="level" required>
        <option value="" disabled selected>Select Level</option>
        <option value="0">Level 0 - Beginner</option>
        <option value="1">Level 1</option>
        <option value="2">Level 2</option>
        <option value="3">Level 3</option>
        <option value="4">Level 4</option>
        <option value="5">Level 5 - Advanced</option>
      </select>

      <label data-en="Phone Number" data-ar="ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ" data-ur="ŸÅŸàŸÜ ŸÜŸÖÿ®ÿ±">Phone Number</label>
      <input type="tel" name="phone" placeholder="+44 7000 000000" required>

      <label data-en="Email Address" data-ar="ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä" data-ur="ÿß€å ŸÖ€åŸÑ Ÿæÿ™€Å">Email Address</label>
      <input type="email" name="email" placeholder="example@mail.com" required>

      <button type="submit" class="primary" data-en="Submit" data-ar="ÿ•ÿ±ÿ≥ÿßŸÑ" data-ur="ÿ¨ŸÖÿπ ⁄©ÿ±Ÿàÿßÿ¶€å⁄∫">Submit</button>
    </form>

    <div id="thankYou" style="display:none; text-align:center; margin-top:15px;">
      <p data-en="Thank you for registering!" data-ar="ÿ¥ŸÉÿ±ÿß ŸÑÿ™ÿ≥ÿ¨ŸäŸÑŸÉ!" data-ur="ÿ±ÿ¨ÿ≥Ÿπÿ±€åÿ¥ŸÜ ⁄©ÿß ÿ¥⁄©ÿ±€å€Å!">
        Thank you for registering!
      </p>
    </div>
  </div>
</div>

<footer>¬© 2026 Umar Masjid Madrassah</footer>

<script>
/* ===== Dark Mode ===== */
let dark=localStorage.getItem("dark")==="true";
document.body.classList.toggle("dark",dark);
function toggleDarkMode(){dark=!dark;document.body.classList.toggle("dark",dark);localStorage.setItem("dark",dark)}

/* ===== Language Switch ===== */
let langs=["en","ar","ur"],langIndex=0;
function toggleLanguage(){
  langIndex=(langIndex+1)%langs.length;
  let lang=langs[langIndex];
  document.documentElement.lang=lang;
  document.body.dir=(lang==="ar"||lang==="ur")?"rtl":"ltr";
  document.querySelectorAll("[data-en]").forEach(el=>{if(el.dataset[lang])el.textContent=el.dataset[lang]});
}

/* ===== Tabs ===== */
function showSection(id){
  document.querySelectorAll("main section").forEach(sec=>{sec.style.display="none";sec.classList.remove("active")});
  const sec=document.getElementById(id);
  if(sec){sec.style.display="block";sec.classList.add("active")}
}


/* ===== Admin ===== */
let adminPin="2482013";
function adminLogin(){
  const pin=document.getElementById("adminPin").value;
  if(pin===adminPin){
    document.getElementById("loginBox").style.display="none";
    document.getElementById("adminContent").style.display="block";
    showToast("Admin logged in!");
  } else showToast("Incorrect PIN");
}

function adminLogout(){
  document.body.contentEditable="false";
  document.body.style.outline="none";
  document.getElementById("adminContent").style.display="none";
  document.getElementById("loginBox").style.display="block";
  showToast("Logged out!");
}

function enableEditMode(){
  document.body.contentEditable="true";
  document.body.style.outline="2px dashed #046d4a";
  showToast("Edit mode enabled! Click and type anywhere.");
}

/* ===== Save and Load Admin Edits ===== */
function savePage(){
  const editable = document.getElementById("editableContent");
  localStorage.setItem("savedPageContent", editable.innerHTML);
  showToast("Changes saved!");
}

function loadSavedPage(){
  const saved = localStorage.getItem("savedPageContent");
  if(saved){
    const editable = document.getElementById("editableContent");
    editable.innerHTML = saved;
    // hide admin panel after load
    const adminContent = document.getElementById("adminContent");
    const loginBox = document.getElementById("loginBox");
    if(adminContent) adminContent.style.display = "none";
    if(loginBox) loginBox.style.display = "block";
  }
}

/* ===== Toast ===== */
function showToast(msg){
  let t = document.getElementById("toast");
  if(!t){
    t = document.createElement("div");
    t.id = "toast";
    t.className = "toast";
    document.body.appendChild(t);
  }
  t.innerText = msg;
  t.style.display = "block";
  setTimeout(()=>t.style.display="none",3000);
}

/* ===== Registration Modal ===== */
const modal=document.createElement("div"); // placeholder, modal already in HTML

function openModal(){document.getElementById("modal").style.display="flex"}
function closeModal(){document.getElementById("modal").style.display="none";resetForm()}

/* ===== Form Handling ===== */
const form=document.getElementById("registerForm");
if(form){
  form.addEventListener("submit",e=>{
    e.preventDefault();
    let data=new FormData(form);
    let name=data.get("name").trim();
    let age=parseInt(data.get("age"));
    let phone=data.get("phone").trim();
    let level=data.get("level");
    if(name.length<3)return showToast("Invalid name");
    if(age<3||age>80)return showToast("Invalid age");
    if(!/^[0-9+\-\s()]+$/.test(phone))return showToast("Invalid phone");
    if(!level)return showToast("Select level");
    let regs=JSON.parse(localStorage.getItem("regs")||"[]");
    regs.push({name,age,phone,level});
    localStorage.setItem("regs",JSON.stringify(regs));
    form.style.display="none";
    document.getElementById("thankYou").style.display="block";
    showToast("Registered successfully");
  });
}

function resetForm(){form.reset();form.style.display="block";document.getElementById("thankYou").style.display="none"}

/* ===== Page Load ===== */
window.addEventListener("load",()=>{
  loadSavedPage();           // load admin edits first
  loadWeeklyPrayerTimes();   // load prayer table
  showSection("home");       // always start on Home
});

</script>

</body>
</html>
